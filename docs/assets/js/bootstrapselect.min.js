(function(e,t){e===undefined&&window!==undefined&&(e=window),typeof define=="function"&&define.amd?define(["jquery"],function(e){return t(e)}):typeof module=="object"&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)})(this,function(e){(function(e){"use strict";function u(t,r){var i=t.nodeName.toLowerCase();if(e.inArray(i,r)!==-1)return e.inArray(i,n)!==-1?Boolean(t.nodeValue.match(s)||t.nodeValue.match(o)):!0;var u=e(r).filter(function(e,t){return t instanceof RegExp});for(var a=0,f=u.length;a<f;a++)if(i.match(u[a]))return!0;return!1}function a(e,t,n){if(n&&typeof n=="function")return n(e);var r=Object.keys(t);for(var i=0,s=e.length;i<s;i++){var o=e[i].querySelectorAll("*");for(var a=0,f=o.length;a<f;a++){var l=o[a],c=l.nodeName.toLowerCase();if(r.indexOf(c)===-1){l.parentNode.removeChild(l);continue}var h=[].slice.call(l.attributes),p=[].concat(t["*"]||[],t[c]||[]);for(var d=0,v=h.length;d<v;d++){var m=h[d];u(m,p)||l.removeAttribute(m.nodeName)}}}}function p(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})}function d(e,t){var n=e.selectedOptions,r=[],i;if(t){for(var s=0,o=n.length;s<o;s++)i=n[s],i.disabled||i.parentNode.tagName==="OPTGROUP"&&i.parentNode.disabled||r.push(i);return r}return n}function v(e,t){var n=[],r=t||e.selectedOptions,i;for(var s=0,o=r.length;s<o;s++)i=r[s],i.disabled||i.parentNode.tagName==="OPTGROUP"&&i.parentNode.disabled||n.push(i.value);return e.multiple?n:n.length?n[0]:null}function b(e,t,n,r){var i=["display","subtext","tokens"],s=!1;for(var o=0;o<i.length;o++){var u=i[o],a=e[u];if(a){a=a.toString(),u==="display"&&(a=a.replace(/<[^>]+>/g,"")),r&&(a=_(a)),a=a.toUpperCase(),n==="contains"?s=a.indexOf(t)>=0:s=a.startsWith(t);if(s)break}}return s}function w(e){return parseInt(e,10)||0}function M(e){return E[e]}function _(e){return e=e.toString(),e&&e.replace(S,M).replace(O,"")}function K(n){var r=arguments,i=n;[].shift.apply(r);if(!F.success){try{F.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(s){J.BootstrapVersion?F.full=J.BootstrapVersion.split(" ")[0].split("."):(F.full=[F.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",s))}F.major=F.full[0],F.success=!0}if(F.major==="4"){var o=[];J.DEFAULTS.style===U.BUTTONCLASS&&o.push({name:"style",className:"BUTTONCLASS"}),J.DEFAULTS.iconBase===U.ICONBASE&&o.push({name:"iconBase",className:"ICONBASE"}),J.DEFAULTS.tickIcon===U.TICKICON&&o.push({name:"tickIcon",className:"TICKICON"}),U.DIVIDER="dropdown-divider",U.SHOW="show",U.BUTTONCLASS="btn-light",U.POPOVERHEADER="popover-header",U.ICONBASE="",U.TICKICON="bs-ok-default";for(var u=0;u<o.length;u++){var n=o[u];J.DEFAULTS[n.name]=U[n.className]}}var a,f=this.each(function(){var n=e(this);if(n.is("select")){var s=n.data("selectpicker"),o=typeof i=="object"&&i;if(!s){var u=n.data();for(var f in u)u.hasOwnProperty(f)&&e.inArray(f,t)!==-1&&delete u[f];var l=e.extend({},J.DEFAULTS,e.fn.selectpicker.defaults||{},u,o);l.template=e.extend({},J.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},u.template,o.template),n.data("selectpicker",s=new J(this,l))}else if(o)for(var c in o)o.hasOwnProperty(c)&&(s.options[c]=o[c]);typeof i=="string"&&(s[i]instanceof Function?a=s[i].apply(s,r):a=s.options[i])}});return typeof a!="undefined"?a:f}var t=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],r=/^aria-[\w-]*$/i,i={"*":["class","dir","id","lang","role","tabindex","style",r],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},s=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;"classList"in document.createElement("_")||function(t){if(!("Element"in t))return;var n="classList",r="prototype",i=t.Element[r],s=Object,o=function(){var t=e(this);return{add:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.addClass(e)},remove:function(e){return e=Array.prototype.slice.call(arguments).join(" "),t.removeClass(e)},toggle:function(e,n){return t.toggleClass(e,n)},contains:function(e){return t.hasClass(e)}}};if(s.defineProperty){var u={get:o,enumerable:!0,configurable:!0};try{s.defineProperty(i,n,u)}catch(a){if(a.number===undefined||a.number===-2146823252)u.enumerable=!1,s.defineProperty(i,n,u)}}else s[r].__defineGetter__&&i.__defineGetter__(n,o)}(window);var f=document.createElement("_");f.classList.add("c1","c2");if(!f.classList.contains("c2")){var l=DOMTokenList.prototype.add,c=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,l.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,c.bind(this))}}f.classList.toggle("c3",!1);if(f.classList.contains("c3")){var h=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:h.call(this,e)}}f=null,String.prototype.startsWith||function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(r){}return n}(),t={}.toString,n=function(e){if(this==null)throw new TypeError;var n=String(this);if(e&&t.call(e)=="[object RegExp]")throw new TypeError;var r=n.length,i=String(e),s=i.length,o=arguments.length>1?arguments[1]:undefined,u=o?Number(o):0;u!=u&&(u=0);var a=Math.min(Math.max(u,0),r);if(s+a>r)return!1;var f=-1;while(++f<s)if(n.charCodeAt(a+f)!=i.charCodeAt(f))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),Object.keys||(Object.keys=function(e,t,n){n=[];for(t in e)n.hasOwnProperty.call(e,t)&&n.push(t);return n}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var m={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,n){return n&&!m.useDefault&&e(t).data("selected",!0),m._set.apply(this,arguments)};var g=null,y=function(){try{return new Event("change"),!0}catch(e){return!1}}();e.fn.triggerNative=function(e){var t=this[0],n;t.dispatchEvent?(y?n=new Event(e,{bubbles:!0}):(n=document.createEvent("Event"),n.initEvent(e,!0,!1)),t.dispatchEvent(n)):t.fireEvent?(n=document.createEventObject(),n.eventType=e,t.fireEvent("on"+e,n)):this.trigger(e)};var E={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","?":"A","?":"A","?":"A","?":"a","?":"a","?":"a","?":"C","?":"C","?":"C","?":"C","?":"c","?":"c","?":"c","?":"c","?":"D","?":"D","?":"d","?":"d","?":"E","?":"E","?":"E","?":"E","?":"E","?":"e","?":"e","?":"e","?":"e","?":"e","?":"G","?":"G","?":"G","?":"G","?":"g","?":"g","?":"g","?":"g","?":"H","?":"H","?":"h","?":"h","?":"I","?":"I","?":"I","?":"I","?":"I","?":"i","?":"i","?":"i","?":"i","?":"i","?":"J","?":"j","?":"K","?":"k","?":"k","?":"L","?":"L","?":"L","?":"L","?":"L","?":"l","?":"l","?":"l","?":"l","?":"l","?":"N","?":"N","?":"N","?":"N","?":"n","?":"n","?":"n","?":"n","?":"O","?":"O","?":"O","?":"o","?":"o","?":"o","?":"R","?":"R","?":"R","?":"r","?":"r","?":"r","?":"S","?":"S","?":"S","Š":"S","?":"s","?":"s","?":"s","š":"s","?":"T","?":"T","?":"T","?":"t","?":"t","?":"t","?":"U","?":"U","?":"U","?":"U","?":"U","?":"U","?":"u","?":"u","?":"u","?":"u","?":"u","?":"u","?":"W","?":"w","?":"Y","?":"y","Ÿ":"Y","?":"Z","?":"Z","Ž":"Z","?":"z","?":"z","ž":"z","?":"IJ","?":"ij","Œ":"Oe","œ":"oe","?":"'n","?":"s"},S=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,x="\\u0300-\\u036f",T="\\ufe20-\\ufe2f",N="\\u20d0-\\u20ff",C="\\u1ab0-\\u1aff",k="\\u1dc0-\\u1dff",L=x+T+N+C+k,A="["+L+"]",O=RegExp(A,"g"),D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=function(e){var t=function(t){return e[t]},n="(?:"+Object.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==null?"":""+e,r.test(e)?e.replace(i,t):e}},H=P(D),B={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},j={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40},F={success:!1,major:"3"};try{F.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),F.major=F.full[0],F.success=!0}catch(I){}var q=0,R=".bs.select",U={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},z={MENU:"."+U.MENU},W={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};W.a.setAttribute("role","option"),F.major==="4"&&(W.a.className="dropdown-item"),W.subtext.className="text-muted",W.text=W.span.cloneNode(!1),W.text.className="text",W.checkMark=W.span.cloneNode(!1);var X=new RegExp(j.ARROW_UP+"|"+j.ARROW_DOWN),V=new RegExp("^"+j.TAB+"$|"+j.ESCAPE),$={li:function(e,t,n){var r=W.li.cloneNode(!1);return e&&(e.nodeType===1||e.nodeType===11?r.appendChild(e):r.innerHTML=e),typeof t!="undefined"&&t!==""&&(r.className=t),typeof n!="undefined"&&n!==null&&r.classList.add("optgroup-"+n),r},a:function(e,t,n){var r=W.a.cloneNode(!0);return e&&(e.nodeType===11?r.appendChild(e):r.insertAdjacentHTML("beforeend",e)),typeof t!="undefined"&&t!==""&&r.classList.add.apply(r.classList,t.split(" ")),n&&r.setAttribute("style",n),r},text:function(e,t){var n=W.text.cloneNode(!1),r,i;if(e.content)n.innerHTML=e.content;else{n.textContent=e.text;if(e.icon){var s=W.whitespace.cloneNode(!1);i=(t===!0?W.i:W.span).cloneNode(!1),i.className=this.options.iconBase+" "+e.icon,W.fragment.appendChild(i),W.fragment.appendChild(s)}e.subtext&&(r=W.subtext.cloneNode(!1),r.textContent=e.subtext,n.appendChild(r))}if(t===!0)while(n.childNodes.length>0)W.fragment.appendChild(n.childNodes[0]);else W.fragment.appendChild(n);return W.fragment},label:function(e){var t=W.text.cloneNode(!1),n,r;t.innerHTML=e.display;if(e.icon){var i=W.whitespace.cloneNode(!1);r=W.span.cloneNode(!1),r.className=this.options.iconBase+" "+e.icon,W.fragment.appendChild(r),W.fragment.appendChild(i)}return e.subtext&&(n=W.subtext.cloneNode(!1),n.textContent=e.subtext,t.appendChild(n)),W.fragment.appendChild(t),W.fragment}},J=function(t,n){var r=this;m.useDefault||(e.valHooks.select.set=m._set,m.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=n,this.selectpicker={main:{},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){r.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},this.options.title===null&&(this.options.title=this.$element.attr("title"));var i=this.options.windowPadding;typeof i=="number"&&(this.options.windowPadding=[i,i,i,i]),this.val=J.prototype.val,this.render=J.prototype.render,this.refresh=J.prototype.refresh,this.setStyle=J.prototype.setStyle,this.selectAll=J.prototype.selectAll,this.deselectAll=J.prototype.deselectAll,this.destroy=J.prototype.destroy,this.remove=J.prototype.remove,this.show=J.prototype.show,this.hide=J.prototype.hide,this.init()};J.VERSION="1.13.14",J.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return e==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[e==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)",t==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:U.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:U.ICONBASE,tickIcon:U.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:i},J.prototype={constructor:J,init:function(){var e=this,t=this.$element.attr("id");q++,this.selectId="bs-select-"+q,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$element[0].classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.buildData(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(z.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),this.options.dropdownAlignRight===!0&&this.$menu[0].classList.add(U.MENURIGHT),typeof t!="undefined"&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide"+R,function(){if(e.isVirtual()){var t=e.$menuInner[0],n=t.firstChild.cloneNode(!1);t.replaceChild(n,t.firstChild),t.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$element.trigger("hide"+R,t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden"+R,t)},"show.bs.dropdown":function(t){e.$element.trigger("show"+R,t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown"+R,t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid"+R,function(){e.$button[0].classList.add("bs-invalid"),e.$element.on("shown"+R+".invalid",function(){e.$element.val(e.$element.val()).off("shown"+R+".invalid")}).on("rendered"+R,function(){this.validity.valid&&e.$button[0].classList.remove("bs-invalid"),e.$element.off("rendered"+R)}),e.$button.on("blur"+R,function(){e.$element.trigger("focus").trigger("blur"),e.$button.off("blur"+R)})}),setTimeout(function(){e.buildList(),e.$element.trigger("loaded"+R)})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",n=this.multiple?' aria-multiselectable="true"':"",r="",i=this.autofocus?" autofocus":"";F.major<4&&this.$element.parent().hasClass("input-group")&&(r=" input-group-btn");var s,o="",u="",a="",f="";return this.options.header&&(o='<div class="'+U.POPOVERHEADER+'">'+'<button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(u='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(this.options.liveSearchPlaceholder===null?"":' placeholder="'+H(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list">'+"</div>"),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+U.BUTTONCLASS+'">'+this.options.selectAllText+"</button>"+'<button type="button" class="actions-btn bs-deselect-all btn '+U.BUTTONCLASS+'">'+this.options.deselectAllText+"</button>"+"</div>"+"</div>"),this.multiple&&this.options.doneButton&&(f='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+U.BUTTONCLASS+'">'+this.options.doneButtonText+"</button>"+"</div>"+"</div>"),s='<div class="dropdown bootstrap-select'+t+r+'">'+'<button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+(this.options.display==="static"?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false">'+'<div class="filter-option">'+'<div class="filter-option-inner">'+'<div class="filter-option-inner-inner"></div>'+"</div> "+"</div>"+(F.major==="4"?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+"</button>"+'<div class="'+U.MENU+" "+(F.major==="4"?"":U.SHOW)+'">'+o+u+a+'<div class="inner '+U.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+n+">"+'<ul class="'+U.MENU+" inner "+(F.major==="4"?U.SHOW:"")+'" role="presentation">'+"</ul>"+"</div>"+f+"</div>"+"</div>",e(s)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0;for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],n=!0;t.type==="divider"?(n=!1,t.height=this.sizeInfo.dividerHeight):t.type==="optgroup-label"?(n=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),n&&(this.selectpicker.view.size++,t.posinset=this.selectpicker.view.size),t.position=(e===0?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return this.options.virtualScroll!==!1&&this.selectpicker.main.elements.length>=this.options.virtualScroll||this.options.virtualScroll===!0},createView:function(t,n,r){function v(e,n){var r=i.selectpicker.current.elements.length,s=[],l,c,h,d,v,m,g,y,b=!0,w=i.isVirtual();i.selectpicker.view.scrollTop=e,l=Math.ceil(i.sizeInfo.menuInnerHeight/i.sizeInfo.liHeight*1.5),c=Math.round(r/l)||1;for(var E=0;E<c;E++){var S=(E+1)*l;E===c-1&&(S=r),s[E]=[E*l+(E?1:0),S];if(!r)break;v===undefined&&e-1<=i.selectpicker.current.data[S-1].position-i.sizeInfo.menuInnerHeight&&(v=E)}v===undefined&&(v=0),m=[i.selectpicker.view.position0,i.selectpicker.view.position1],h=Math.max(0,v-1),d=Math.min(c-1,v+1),i.selectpicker.view.position0=w===!1?0:Math.max(0,s[h][0])||0,i.selectpicker.view.position1=w===!1?r:Math.min(r,s[d][1])||0,g=m[0]!==i.selectpicker.view.position0||m[1]!==i.selectpicker.view.position1,i.activeIndex!==undefined&&(f=i.selectpicker.main.elements[i.prevActiveIndex],o=i.selectpicker.main.elements[i.activeIndex],u=i.selectpicker.main.elements[i.selectedIndex],n&&(i.activeIndex!==i.selectedIndex&&i.defocusItem(o),i.activeIndex=undefined),i.activeIndex&&i.activeIndex!==i.selectedIndex&&i.defocusItem(u)),i.prevActiveIndex!==undefined&&i.prevActiveIndex!==i.activeIndex&&i.prevActiveIndex!==i.selectedIndex&&i.defocusItem(f);if(n||g){y=i.selectpicker.view.visibleElements?i.selectpicker.view.visibleElements.slice():[],w===!1?i.selectpicker.view.visibleElements=i.selectpicker.current.elements:i.selectpicker.view.visibleElements=i.selectpicker.current.elements.slice(i.selectpicker.view.position0,i.selectpicker.view.position1),i.setOptionStatus();if(t||w===!1&&n)b=!p(y,i.selectpicker.view.visibleElements);if((n||w===!0)&&b){var x=i.$menuInner[0],T=document.createDocumentFragment(),N=x.firstChild.cloneNode(!1),C,k,L=i.selectpicker.view.visibleElements,A=[];x.replaceChild(N,x.firstChild);for(var E=0,O=L.length;E<O;E++){var M=L[E],_,D;i.options.sanitize&&(_=M.lastChild,_&&(D=i.selectpicker.current.data[E+i.selectpicker.view.position0],D&&D.content&&!D.sanitized&&(A.push(_),D.sanitized=!0))),T.appendChild(M)}i.options.sanitize&&A.length&&a(A,i.options.whiteList,i.options.sanitizeFn),w===!0?(C=i.selectpicker.view.position0===0?0:i.selectpicker.current.data[i.selectpicker.view.position0-1].position,k=i.selectpicker.view.position1>r-1?0:i.selectpicker.current.data[r-1].position-i.selectpicker.current.data[i.selectpicker.view.position1-1].position,x.firstChild.style.marginTop=C+"px",x.firstChild.style.marginBottom=k+"px"):(x.firstChild.style.marginTop=0,x.firstChild.style.marginBottom=0),x.firstChild.appendChild(T);if(w===!0&&i.sizeInfo.hasScrollBar){var P=x.firstChild.offsetWidth;if(n&&P<i.sizeInfo.menuInnerInnerWidth&&i.sizeInfo.totalMenuWidth>i.sizeInfo.selectWidth)x.firstChild.style.minWidth=i.sizeInfo.menuInnerInnerWidth+"px";else if(P>i.sizeInfo.menuInnerInnerWidth){i.$menu[0].style.minWidth=0;var H=x.firstChild.offsetWidth;H>i.sizeInfo.menuInnerInnerWidth&&(i.sizeInfo.menuInnerInnerWidth=H,x.firstChild.style.minWidth=i.sizeInfo.menuInnerInnerWidth+"px"),i.$menu[0].style.minWidth=""}}}}i.prevActiveIndex=i.activeIndex;if(!i.options.liveSearch)i.$menuInner.trigger("focus");else if(t&&n){var B=0,j;i.selectpicker.view.canHighlight[B]||(B=1+i.selectpicker.view.canHighlight.slice(1).indexOf(!0)),j=i.selectpicker.view.visibleElements[B],i.defocusItem(i.selectpicker.view.currentActive),i.activeIndex=(i.selectpicker.current.data[B]||{}).index,i.focusItem(j)}}var i=this,s=0,o=[],u,f;this.selectpicker.isSearching=t,this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main,this.setPositionData();if(n)if(r)s=this.$menuInner[0].scrollTop;else if(!i.multiple){var l=i.$element[0],c=(l.options[l.selectedIndex]||{}).liIndex;if(typeof c=="number"&&i.options.size!==!1){var h=i.selectpicker.main.data[c],d=h&&h.position;d&&(s=d-(i.sizeInfo.menuInnerHeight+i.sizeInfo.liHeight)/2)}}v(s,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){i.noScroll||v(this.scrollTop,t),i.noScroll=!1}),e(window).off("resize"+R+"."+this.selectId+".createView").on("resize"+R+"."+this.selectId+".createView",function(){var e=i.$newElement.hasClass(U.SHOW);e&&v(i.$menuInner[0].scrollTop)})},focusItem:function(e,t,n){if(e){t=t||this.selectpicker.main.data[this.activeIndex];var r=e.firstChild;r&&(r.setAttribute("aria-setsize",this.selectpicker.view.size),r.setAttribute("aria-posinset",t.posinset),n!==!0&&(this.focusedParent.setAttribute("aria-activedescendant",r.id),e.classList.add("active"),r.classList.add("active")))}},defocusItem:function(e){e&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"))},setPlaceholder:function(){var t=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),t=!0;var n=this.$element[0],r=!1,i=!this.selectpicker.view.titleOption.parentNode;if(i){this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="";var s=e(n.options[n.selectedIndex]);r=s.attr("selected")===undefined&&this.$element.data("selected")===undefined}(i||this.selectpicker.view.titleOption.index!==0)&&n.insertBefore(this.selectpicker.view.titleOption,n.firstChild),r&&(n.selectedIndex=0)}return t},buildData:function(){function s(e){var n=t[t.length-1];if(n&&n.type==="divider"&&(n.optID||e.optID))return;e=e||{},e.type="divider",t.push(e)}function o(e,n){n=n||{},n.divider=e.getAttribute("data-divider")==="true";if(n.divider)s({optID:n.optID});else{var r=t.length,i=e.style.cssText,o=i?H(i):"",u=(e.className||"")+(n.optgroupClass||"");n.optID&&(u="opt "+u),n.optionClass=u.trim(),n.inlineStyle=o,n.text=e.textContent,n.content=e.getAttribute("data-content"),n.tokens=e.getAttribute("data-tokens"),n.subtext=e.getAttribute("data-subtext"),n.icon=e.getAttribute("data-icon"),e.liIndex=r,n.display=n.content||n.text,n.type="option",n.index=r,n.option=e,n.selected=!!e.selected,n.disabled=n.disabled||!!e.disabled,t.push(n)}}function u(r,i){var u=i[r],a=i[r-1],f=i[r+1],l=u.querySelectorAll("option"+e);if(!l.length)return;var c={display:H(u.label),subtext:u.getAttribute("data-subtext"),icon:u.getAttribute("data-icon"),type:"optgroup-label",optgroupClass:" "+(u.className||"")},h,p;n++,a&&s({optID:n}),c.optID=n,t.push(c);for(var d=0,v=l.length;d<v;d++){var m=l[d];d===0&&(h=t.length-1,p=h+v),o(m,{headerIndex:h,lastIndex:p,optID:c.optID,optgroupClass:c.optgroupClass,disabled:u.disabled})}f&&s({optID:n})}var e=':not([hidden]):not([data-hidden="true"])',t=[],n=0,r=this.setPlaceholder()?1:0;this.options.hideDisabled&&(e+=":not(:disabled)");var i=this.$element[0].querySelectorAll("select > *"+e);for(var a=i.length;r<a;r++){var f=i[r];f.tagName!=="OPTGROUP"?o(f,{}):u(r,i)}this.selectpicker.main.data=this.selectpicker.current.data=t},buildList:function(){function i(t){var i,s=0;switch(t.type){case"divider":i=$.li(!1,U.DIVIDER,t.optID?t.optID+"div":undefined);break;case"option":i=$.li($.a($.text.call(e,t),t.optionClass,t.inlineStyle),"",t.optID),i.firstChild&&(i.firstChild.id=e.selectId+"-"+t.index);break;case"optgroup-label":i=$.li($.label.call(e,t),"dropdown-header"+t.optgroupClass,t.optID)}n.push(i),t.display&&(s+=t.display.length),t.subtext&&(s+=t.subtext.length),t.icon&&(s+=1),s>r&&(r=s,e.selectpicker.view.widestOption=n[n.length-1])}var e=this,t=this.selectpicker.main.data,n=[],r=0;(e.options.showTick||e.multiple)&&!W.checkMark.parentNode&&(W.checkMark.className=this.options.iconBase+" "+e.options.tickIcon+" check-mark",W.a.appendChild(W.checkMark));for(var s=t.length,o=0;o<s;o++){var u=t[o];i(u)}this.selectpicker.main.elements=this.selectpicker.current.elements=n},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var e=this,t=this.$element[0],n=this.setPlaceholder()&&t.selectedIndex===0,r=d(t,this.options.hideDisabled),i=r.length,s=this.$button[0],o=s.querySelector(".filter-option-inner-inner"),u=document.createTextNode(this.options.multipleSeparator),f=W.fragment.cloneNode(!1),l,c,h=!1;s.classList.toggle("bs-placeholder",e.multiple?!i:!v(t,r)),this.tabIndex();if(this.options.selectedTextFormat==="static")f=$.text.call(this,{text:this.options.title},!0);else{l=this.multiple&&this.options.selectedTextFormat.indexOf("count")!==-1&&i>1,l&&(c=this.options.selectedTextFormat.split(">"),l=c.length>1&&i>c[1]||c.length===1&&i>=2);if(l===!1){if(!n){for(var p=0;p<i;p++){if(!(p<50))break;var m=r[p],g=this.selectpicker.main.data[m.liIndex],y={};this.multiple&&p>0&&f.appendChild(u.cloneNode(!1)),m.title?y.text=m.title:g&&(g.content&&e.options.showContent?(y.content=g.content.toString(),h=!0):(e.options.showIcon&&(y.icon=g.icon),e.options.showSubtext&&!e.multiple&&g.subtext&&(y.subtext=" "+g.subtext),y.text=m.textContent.trim())),f.appendChild($.text.call(this,y,!0))}i>49&&f.appendChild(document.createTextNode("..."))}}else{var b=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(b+=":not(:disabled)");var w=this.$element[0].querySelectorAll("select > option"+b+", optgroup"+b+" option"+b).length,E=typeof this.options.countSelectedText=="function"?this.options.countSelectedText(i,w):this.options.countSelectedText;f=$.text.call(this,{text:E.replace("{0}",i.toString()).replace("{1}",w.toString())},!0)}}this.options.title==undefined&&(this.options.title=this.$element.attr("title")),f.childNodes.length||(f=$.text.call(this,{text:typeof this.options.title!="undefined"?this.options.title:this.options.noneSelectedText},!0)),s.title=f.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&h&&a([f],e.options.whiteList,e.options.sanitizeFn),o.innerHTML="",o.appendChild(f);if(F.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var S=s.querySelector(".filter-expand"),x=o.cloneNode(!0);x.className="filter-expand",S?s.replaceChild(x,S):s.appendChild(x)}this.$element.trigger("rendered"+R)},setStyle:function(e,t){var n=this.$button[0],r=this.$newElement[0],i=this.options.style.trim(),s;this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),F.major<4&&(r.classList.add("bs3"),r.parentNode.classList.contains("input-group")&&(r.previousElementSibling||r.nextElementSibling)&&(r.previousElementSibling||r.nextElementSibling).classList.contains("input-group-addon")&&r.classList.add("bs3-has-addon")),e?s=e.trim():s=i,t=="add"?s&&n.classList.add.apply(n.classList,s.split(" ")):t=="remove"?s&&n.classList.remove.apply(n.classList,s.split(" ")):(i&&n.classList.remove.apply(n.classList,i.split(" ")),s&&n.classList.add.apply(n.classList,s.split(" ")))},liHeight:function(t){if(!t&&(this.options.size===!1||Object.keys(this.sizeInfo).length))return;var n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),s=document.createElement("ul"),o=document.createElement("li"),u=document.createElement("li"),a=document.createElement("li"),f=document.createElement("a"),l=document.createElement("span"),c=this.options.header&&this.$menu.find("."+U.POPOVERHEADER).length>0?this.$menu.find("."+U.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,d=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,v=this.$element.find("option")[0];this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,l.className="text",f.className="dropdown-item "+(v?v.className:""),n.className=this.$menu[0].parentNode.className+" "+U.SHOW,n.style.width=0,this.options.width==="auto"&&(r.style.minWidth=0),r.className=U.MENU+" "+U.SHOW,i.className="inner "+U.SHOW,s.className=U.MENU+" inner "+(F.major==="4"?U.SHOW:""),o.className=U.DIVIDER,u.className="dropdown-header",l.appendChild(document.createTextNode("?")),f.appendChild(l),a.appendChild(f),u.appendChild(l.cloneNode(!0)),this.selectpicker.view.widestOption&&s.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),s.appendChild(a),s.appendChild(o),s.appendChild(u),c&&r.appendChild(c);if(h){var m=document.createElement("input");h.className="bs-searchbox",m.className="form-control",h.appendChild(m),r.appendChild(h)}p&&r.appendChild(p),i.appendChild(s),r.appendChild(i),d&&r.appendChild(d),n.appendChild(r),document.body.appendChild(n);var g=a.offsetHeight,y=u?u.offsetHeight:0,b=c?c.offsetHeight:0,E=h?h.offsetHeight:0,S=p?p.offsetHeight:0,x=d?d.offsetHeight:0,T=e(o).outerHeight(!0),N=window.getComputedStyle?window.getComputedStyle(r):!1,C=r.offsetWidth,k=N?null:e(r),L={vert:w(N?N.paddingTop:k.css("paddingTop"))+w(N?N.paddingBottom:k.css("paddingBottom"))+w(N?N.borderTopWidth:k.css("borderTopWidth"))+w(N?N.borderBottomWidth:k.css("borderBottomWidth")),horiz:w(N?N.paddingLeft:k.css("paddingLeft"))+w(N?N.paddingRight:k.css("paddingRight"))+w(N?N.borderLeftWidth:k.css("borderLeftWidth"))+w(N?N.borderRightWidth:k.css("borderRightWidth"))},A={vert:L.vert+w(N?N.marginTop:k.css("marginTop"))+w(N?N.marginBottom:k.css("marginBottom"))+2,horiz:L.horiz+w(N?N.marginLeft:k.css("marginLeft"))+w(N?N.marginRight:k.css("marginRight"))+2},O;i.style.overflowY="scroll",O=r.offsetWidth-C,document.body.removeChild(n),this.sizeInfo.liHeight=g,this.sizeInfo.dropdownHeaderHeight=y,this.sizeInfo.headerHeight=b,this.sizeInfo.searchHeight=E,this.sizeInfo.actionsHeight=S,this.sizeInfo.doneButtonHeight=x,this.sizeInfo.dividerHeight=T,this.sizeInfo.menuPadding=L,this.sizeInfo.menuExtras=A,this.sizeInfo.menuWidth=C,this.sizeInfo.menuInnerInnerWidth=C-L.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=O,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()},getSelectPosition:function(){var t=this,n=e(window),r=t.$newElement.offset(),i=e(t.options.container),s;t.options.container&&i.length&&!i.is("body")?(s=i.offset(),s.top+=parseInt(i.css("borderTopWidth")),s.left+=parseInt(i.css("borderLeftWidth"))):s={top:0,left:0};var o=t.options.windowPadding;this.sizeInfo.selectOffsetTop=r.top-s.top-n.scrollTop(),this.sizeInfo.selectOffsetBot=n.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-s.top-o[2],this.sizeInfo.selectOffsetLeft=r.left-s.left-n.scrollLeft(),this.sizeInfo.selectOffsetRight=n.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-s.left-o[1],this.sizeInfo.selectOffsetTop-=o[0],this.sizeInfo.selectOffsetLeft-=o[3]},setMenuSize:function(e){this.getSelectPosition();var t=this.sizeInfo.selectWidth,n=this.sizeInfo.liHeight,r=this.sizeInfo.headerHeight,i=this.sizeInfo.searchHeight,s=this.sizeInfo.actionsHeight,o=this.sizeInfo.doneButtonHeight,u=this.sizeInfo.dividerHeight,a=this.sizeInfo.menuPadding,f,l,c=0,h,p,d,v,m,g;this.options.dropupAuto&&(m=n*this.selectpicker.current.elements.length+a.vert,g=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&m+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,this.selectpicker.isSearching===!0&&(g=this.selectpicker.dropup),this.$newElement.toggleClass(U.DROPUP,g),this.selectpicker.dropup=g);if(this.options.size==="auto")p=this.selectpicker.current.elements.length>3?this.sizeInfo.liHeight*3+this.sizeInfo.menuExtras.vert-2:0,l=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,h=p+r+i+s+o,v=Math.max(p-a.vert,0),this.$newElement.hasClass(U.DROPUP)&&(l=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),d=l,f=l-r-i-s-o-a.vert;else if(this.options.size&&this.options.size!="auto"&&this.selectpicker.current.elements.length>this.options.size){for(var y=0;y<this.options.size;y++)this.selectpicker.current.data[y].type==="divider"&&c++;l=n*this.options.size+c*u+a.vert,f=l-a.vert,d=l+r+i+s+o,h=v=""}this.$menu.css({"max-height":d+"px",overflow:"hidden","min-height":h+"px"}),this.$menuInner.css({"max-height":f+"px","overflow-y":"auto","min-height":v+"px"}),this.sizeInfo.menuInnerHeight=Math.max(f,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),this.options.dropdownAlignRight==="auto"&&this.$menu.toggleClass(U.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-t),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0);if(this.options.size!==!1){var n=this,r=e(window);this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return n.setMenuSize()}),this.options.size==="auto"?r.off("resize"+R+"."+this.selectId+".setMenuSize"+" scroll"+R+"."+this.selectId+".setMenuSize").on("resize"+R+"."+this.selectId+".setMenuSize"+" scroll"+R+"."+this.selectId+".setMenuSize",function(){return n.setMenuSize()}):this.options.size&&this.options.size!="auto"&&this.selectpicker.current.elements.length>this.options.size&&r.off("resize"+R+"."+this.selectId+".setMenuSize"+" scroll"+R+"."+this.selectId+".setMenuSize")}this.createView(!1,!0,t)},setWidth:function(){var e=this;this.options.width==="auto"?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.$element.on("loaded"+R,function(){e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),n=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,n),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")})}):this.options.width==="fit"?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t=this,n=e(this.options.container),r,i,s,o=function(o){var u={},a=t.options.display||(e.fn.dropdown.Constructor.Default?e.fn.dropdown.Constructor.Default.display:!1);t.$bsContainer.addClass(o.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(U.DROPUP,o.hasClass(U.DROPUP)),r=o.offset(),n.is("body")?i={top:0,left:0}:(i=n.offset(),i.top+=parseInt(n.css("borderTopWidth"))-n.scrollTop(),i.left+=parseInt(n.css("borderLeftWidth"))-n.scrollLeft()),s=o.hasClass(U.DROPUP)?0:o[0].offsetHeight;if(F.major<4||a==="static")u.top=r.top-i.top+s,u.left=r.left-i.left;u.width=o[0].offsetWidth,t.$bsContainer.css(u)};this.$button.on("click.bs.dropdown.data-api",function(){if(t.isDisabled())return;o(t.$newElement),t.$bsContainer.appendTo(t.options.container).toggleClass(U.SHOW,!t.$button.hasClass(U.SHOW)).append(t.$menu)}),e(window).off("resize"+R+"."+this.selectId+" scroll"+R+"."+this.selectId).on("resize"+R+"."+this.selectId+" scroll"+R+"."+this.selectId,function(){var e=t.$newElement.hasClass(U.SHOW);e&&o(t.$newElement)}),this.$element.on("hide"+R,function(){t.$menu.data("height",t.$menu.height()),t.$bsContainer.detach()})},setOptionStatus:function(e){var t=this;t.noScroll=!1;if(t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length)for(var n=0;n<t.selectpicker.view.visibleElements.length;n++){var r=t.selectpicker.current.data[n+t.selectpicker.view.position0],i=r.option;i&&(e!==!0&&t.setDisabled(r.index,r.disabled),t.setSelected(r.index,i.selected))}},setSelected:function(e,t){var n=this.selectpicker.main.elements[e],r=this.selectpicker.main.data[e],i=this.activeIndex!==undefined,s=this.activeIndex===e,o,u,a=s||t&&!this.multiple&&!i;r.selected=t,u=n.firstChild,t&&(this.selectedIndex=e),n.classList.toggle("selected",t),a?(this.focusItem(n,r),this.selectpicker.view.currentActive=n,this.activeIndex=e):this.defocusItem(n),u&&(u.classList.toggle("selected",t),t?u.setAttribute("aria-selected",!0):this.multiple?u.setAttribute("aria-selected",!1):u.removeAttribute("aria-selected")),!a&&!i&&t&&this.prevActiveIndex!==undefined&&(o=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(o))},setDisabled:function(e,t){var n=this.selectpicker.main.elements[e],r;this.selectpicker.main.data[e].disabled=t,r=n.firstChild,n.classList.toggle(U.DISABLED,t),r&&(F.major==="4"&&r.classList.toggle(U.DISABLED,t),t?(r.setAttribute("aria-disabled",t),r.setAttribute("tabindex",-1)):(r.removeAttribute("aria-disabled"),r.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(U.DISABLED),this.$button.addClass(U.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(U.DISABLED)&&(this.$newElement[0].classList.remove(U.DISABLED),this.$button.removeClass(U.DISABLED).attr("aria-disabled",!1)),this.$button.attr("tabindex")==-1&&!this.$element.data("tabindex")&&this.$button.removeAttr("tabindex"))},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&this.$element.attr("tabindex")!==-98&&this.$element.attr("tabindex")!=="-98"&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){function r(){t.options.liveSearch||t.$menuInner.trigger("focus")}function i(){t.dropdown&&t.dropdown._popper&&t.dropdown._popper.state.isCreated?r():requestAnimationFrame(i)}var t=this,n=e(document);n.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&n.data("spaceSelect")&&(e.preventDefault(),n.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){F.major>3&&!t.dropdown&&(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){t.$newElement.hasClass(U.SHOW)||t.setSize()}),this.$element.on("shown"+R,function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),F.major>3?requestAnimationFrame(i):r()}),this.$menuInner.on("mouseenter","li a",function(e){var n=this.parentElement,r=t.isVirtual()?t.selectpicker.view.position0:0,i=Array.prototype.indexOf.call(n.parentElement.children,n),s=t.selectpicker.current.data[i+r];t.focusItem(n,s,!0)}),this.$menuInner.on("click","li a",function(n,r){var i=e(this),s=t.$element[0],o=t.isVirtual()?t.selectpicker.view.position0:0,u=t.selectpicker.current.data[i.parent().index()+o],a=u.index,f=v(s),l=s.selectedIndex,c=s.options[l],h=!0;t.multiple&&t.options.maxOptions!==1&&n.stopPropagation(),n.preventDefault();if(!t.isDisabled()&&!i.parent().hasClass(U.DISABLED)){var p=u.option,m=e(p),y=p.selected,b=m.parent("optgroup"),w=b.find("option"),E=t.options.maxOptions,S=b.data("maxOptions")||!1;a===t.activeIndex&&(r=!0),r||(t.prevActiveIndex=t.activeIndex,t.activeIndex=undefined);if(!t.multiple)c&&(c.selected=!1),p.selected=!0,t.setSelected(a,!0);else{p.selected=!y,t.setSelected(a,!y),i.trigger("blur");if(E!==!1||S!==!1){var x=E<d(s).length,T=S<b.find("option:selected").length;if(E&&x||S&&T)if(E&&E==1)s.selectedIndex=-1,p.selected=!0,t.setOptionStatus(!0);else if(S&&S==1){for(var N=0;N<w.length;N++){var C=w[N];C.selected=!1,t.setSelected(C.liIndex,!1)}p.selected=!0,t.setSelected(a,!0)}else{var k=typeof t.options.maxOptionsText=="string"?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,L=typeof k=="function"?k(E,S):k,A=L[0].replace("{n}",E),O=L[1].replace("{n}",S),M=e('<div class="notify"></div>');L[2]&&(A=A.replace("{var}",L[2][E>1?0:1]),O=O.replace("{var}",L[2][S>1?0:1])),p.selected=!1,t.$menu.append(M),E&&x&&(M.append(e("<div>"+A+"</div>")),h=!1,t.$element.trigger("maxReached"+R)),S&&T&&(M.append(e("<div>"+O+"</div>")),h=!1,t.$element.trigger("maxReachedGrp"+R)),setTimeout(function(){t.setSelected(a,!1)},10),M[0].classList.add("fadeOut"),setTimeout(function(){M.remove()},1050)}}}!t.multiple||t.multiple&&t.options.maxOptions===1?t.$button.trigger("focus"):t.options.liveSearch&&t.$searchbox.trigger("focus"),h&&(t.multiple||l!==s.selectedIndex)&&(g=[p.index,m.prop("selected"),f],t.$element.triggerNative("change"))}}),this.$menu.on("click","li."+U.DISABLED+" a, ."+U.POPOVERHEADER+", ."+U.POPOVERHEADER+" :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),t.options.liveSearch&&!e(n.target).hasClass("close")?t.$searchbox.trigger("focus"):t.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.trigger("focus"):t.$button.trigger("focus")}),this.$menu.on("click","."+U.POPOVERHEADER+" .close",function(){t.$button.trigger("click")}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){t.options.liveSearch?t.$searchbox.trigger("focus"):t.$button.trigger("focus"),n.preventDefault(),n.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.on("change"+R,function(){t.render(),t.$element.trigger("changed"+R,g),g=null}).on("focus"+R,function(){t.options.mobile||t.$button.trigger("focus")})},liveSearchListener:function(){var e=this,t=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){!e.$searchbox.val()||e.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var n=e.$searchbox.val();e.selectpicker.search.elements=[],e.selectpicker.search.data=[];if(n){var r,i=[],s=n.toUpperCase(),o={},u=[],a=e._searchStyle(),f=e.options.liveSearchNormalize;f&&(s=_(s));for(var r=0;r<e.selectpicker.main.data.length;r++){var l=e.selectpicker.main.data[r];o[r]||(o[r]=b(l,s,a,f)),o[r]&&l.headerIndex!==undefined&&u.indexOf(l.headerIndex)===-1&&(l.headerIndex>0&&(o[l.headerIndex-1]=!0,u.push(l.headerIndex-1)),o[l.headerIndex]=!0,u.push(l.headerIndex),o[l.lastIndex+1]=!0),o[r]&&l.type!=="optgroup-label"&&u.push(r)}for(var r=0,c=u.length;r<c;r++){var h=u[r],p=u[r-1],l=e.selectpicker.main.data[h],d=e.selectpicker.main.data[p];if(l.type!=="divider"||l.type==="divider"&&d&&d.type!=="divider"&&c-1!==r)e.selectpicker.search.data.push(l),i.push(e.selectpicker.main.elements[h])}e.activeIndex=undefined,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=i,e.createView(!0),i.length||(t.className="no-results",t.innerHTML=e.options.noneResultsText.replace("{0}",'"'+H(n)+'"'),e.$menuInner[0].firstChild.appendChild(t))}else e.$menuInner.scrollTop(0),e.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){var t=this.$element[0];if(typeof e!="undefined"){var n=v(t);g=[null,null,n],this.$element.val(e).trigger("changed"+R,g);if(this.$newElement.hasClass(U.SHOW))if(this.multiple)this.setOptionStatus(!0);else{var r=(t.options[t.selectedIndex]||{}).liIndex;typeof r=="number"&&(this.setSelected(this.selectedIndex,!1),this.setSelected(r,!0))}return this.render(),g=null,this.$element}return this.$element.val()},changeAll:function(e){if(!this.multiple)return;typeof e=="undefined"&&(e=!0);var t=this.$element[0],n=0,r=0,i=v(t);t.classList.add("bs-select-hidden");for(var s=0,o=this.selectpicker.current.data,u=o.length;s<u;s++){var a=o[s],f=a.option;f&&!a.disabled&&a.type!=="divider"&&(a.selected&&n++,f.selected=e,e===!0&&r++)}t.classList.remove("bs-select-hidden");if(n===r)return;this.setOptionStatus(),g=[null,null,i],this.$element.triggerNative("change")},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){e=e||window.event,e&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var n=e(this),r=n.hasClass("dropdown-toggle"),i=r?n.closest(".dropdown"):n.closest(z.MENU),s=i.data("this"),o=s.findLis(),u,a,f,l,c,h=!1,p=t.which===j.TAB&&!r&&!s.options.selectOnTab,d=X.test(t.which)||p,v=s.$menuInner[0].scrollTop,m=s.isVirtual(),g=m===!0?s.selectpicker.view.position0:0;if(t.which>=112&&t.which<=123)return;a=s.$newElement.hasClass(U.SHOW);if(!a&&(d||t.which>=48&&t.which<=57||t.which>=96&&t.which<=105||t.which>=65&&t.which<=90)){s.$button.trigger("click.bs.dropdown.data-api");if(s.options.liveSearch){s.$searchbox.trigger("focus");return}}t.which===j.ESCAPE&&a&&(t.preventDefault(),s.$button.trigger("click.bs.dropdown.data-api").trigger("focus"));if(d){if(!o.length)return;f=s.selectpicker.main.elements[s.activeIndex],u=f?Array.prototype.indexOf.call(f.parentElement.children,f):-1,u!==-1&&s.defocusItem(f);if(t.which===j.ARROW_UP)u!==-1&&u--,u+g<0&&(u+=o.length),s.selectpicker.view.canHighlight[u+g]||(u=s.selectpicker.view.canHighlight.slice(0,u+g).lastIndexOf(!0)-g,u===-1&&(u=o.length-1));else if(t.which===j.ARROW_DOWN||p)u++,u+g>=s.selectpicker.view.canHighlight.length&&(u=0),s.selectpicker.view.canHighlight[u+g]||(u=u+1+s.selectpicker.view.canHighlight.slice(u+g+1).indexOf(!0));t.preventDefault();var y=g+u;if(t.which===j.ARROW_UP)g===0&&u===o.length-1?(s.$menuInner[0].scrollTop=s.$menuInner[0].scrollHeight,y=s.selectpicker.current.elements.length-1):(l=s.selectpicker.current.data[y],c=l.position-l.height,h=c<v);else if(t.which===j.ARROW_DOWN||p)u===0?(s.$menuInner[0].scrollTop=0,y=0):(l=s.selectpicker.current.data[y],c=l.position-s.sizeInfo.menuInnerHeight,h=c>v);f=s.selectpicker.current.elements[y],s.activeIndex=s.selectpicker.current.data[y].index,s.focusItem(f),s.selectpicker.view.currentActive=f,h&&(s.$menuInner[0].scrollTop=c),s.options.liveSearch?s.$searchbox.trigger("focus"):n.trigger("focus")}else if(!n.is("input")&&!V.test(t.which)||t.which===j.SPACE&&s.selectpicker.keydown.keyHistory){var w,E=[],S;t.preventDefault(),s.selectpicker.keydown.keyHistory+=B[t.which],s.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(s.selectpicker.keydown.resetKeyHistory.cancel),s.selectpicker.keydown.resetKeyHistory.cancel=s.selectpicker.keydown.resetKeyHistory.start(),S=s.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(S)&&(S=S.charAt(0));for(var x=0;x<s.selectpicker.current.data.length;x++){var T=s.selectpicker.current.data[x],N;N=b(T,S,"startsWith",!0),N&&s.selectpicker.view.canHighlight[x]&&E.push(T.index)}if(E.length){var C=0;o.removeClass("active").find("a").removeClass("active"),S.length===1&&(C=E.indexOf(s.activeIndex),C===-1||C===E.length-1?C=0:C++),w=E[C],l=s.selectpicker.main.data[w],v-l.position>0?(c=l.position-l.height,h=!0):(c=l.position-s.sizeInfo.menuInnerHeight,h=l.position>v+s.sizeInfo.menuInnerHeight),f=s.selectpicker.main.elements[w],s.activeIndex=E[C],s.focusItem(f),f&&f.firstChild.focus(),h&&(s.$menuInner[0].scrollTop=c),n.trigger("focus")}}if(a&&(t.which===j.SPACE&&!s.selectpicker.keydown.keyHistory||t.which===j.ENTER||t.which===j.TAB&&s.options.selectOnTab)){t.which!==j.SPACE&&t.preventDefault();if(!s.options.liveSearch||t.which!==j.SPACE)s.$menuInner.find(".active a").trigger("click",!0),n.trigger("focus"),s.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var t=e.extend({},this.options,this.$element.data());this.options=t,this.checkDisabled(),this.setStyle(),this.render(),this.buildData(),this.buildList(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed"+R)},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(R).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),e(window).off(R+"."+this.selectId)}};var Q=e.fn.selectpicker;e.fn.selectpicker=K,e.fn.selectpicker.Constructor=J,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=Q,this};var G=e.fn.dropdown.Constructor._dataApiKeydownHandler||e.fn.dropdown.Constructor.prototype.keydown;e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",':not(.bootstrap-select) > [data-toggle="dropdown"]',G).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",G).on("keydown"+R,'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',J.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load"+R+".data-api",function(){e(".selectpicker").each(function(){var t=e(this);K.call(t,t.data())})})})(e)})